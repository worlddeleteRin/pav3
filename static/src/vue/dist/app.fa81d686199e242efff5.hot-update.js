webpackHotUpdate("app",{

/***/ "./src/useful_methods.js":
/*!*******************************!*\
  !*** ./src/useful_methods.js ***!
  \*******************************/
/*! exports provided: close_mobile_header, open_mobile_header, collectProductsAttributes, collectActiveAttributes, initActiveFilters, getApiCategoryProducts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"close_mobile_header\", function() { return close_mobile_header; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"open_mobile_header\", function() { return open_mobile_header; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collectProductsAttributes\", function() { return collectProductsAttributes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collectActiveAttributes\", function() { return collectActiveAttributes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initActiveFilters\", function() { return initActiveFilters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getApiCategoryProducts\", function() { return getApiCategoryProducts; });\n/* harmony import */ var _Users_noname_work_ilya_pav3_vueapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"./node_modules/core-js/modules/web.dom-collections.for-each.js\");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ \"./node_modules/core-js/modules/es.object.keys.js\");\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.split.js */ \"./node_modules/core-js/modules/es.string.split.js\");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nfunction close_mobile_header() {\n  this.$store.commit('setMobileHeaderShow', false);\n}\nfunction open_mobile_header() {\n  this.$store.commit('setMobileHeaderShow', true);\n}\nfunction collectProductsAttributes(products) {\n  var attr = {};\n  products.forEach(function (product) {\n    var k = Object.keys(product.attributes); // iterate for product attribute keys\n\n    for (var key_item in k) {\n      var atr_key = k[key_item];\n      var attribute_values = product.attributes[atr_key]; // iterate through each product attribute value\n\n      for (var atr_indx in attribute_values) {\n        var current_attr = attribute_values[atr_indx];\n\n        if (current_attr[\"use_filter\"]) {\n          var atr_val = current_attr[\"value\"];\n          var atr_code = current_attr[\"code\"];\n          var new_attr = {\n            'code': atr_code,\n            'display_name': atr_val\n          };\n\n          if (atr_key in attr) {\n            // key already exist, need to check value\n            if (attr[atr_key][\"values\"].some(function (el) {\n              return el.code == atr_code;\n            })) {// if already has that value, just skip it\n            } else {\n              attr[atr_key][\"values\"].push(new_attr);\n            }\n          } else {\n            // key not exist, create it and add value\n            // init attr key with all parameters\n            attr[atr_key] = {};\n            attr[atr_key][\"values\"] = [];\n            attr[atr_key][\"display_name\"] = current_attr[\"display_name\"];\n            attr[atr_key][\"type\"] = current_attr[\"type\"];\n            attr[atr_key][\"filter_type\"] = current_attr[\"filter_type\"];\n            attr[atr_key][\"values\"].push(new_attr);\n          }\n        }\n      }\n    }\n  });\n  return attr;\n}\nfunction collectActiveAttributes(query, current_attr) {\n  console.log('start collect active filters', query, current_attr);\n  var active_attr = {};\n\n  for (var common_atr in current_attr) {\n    active_attr[common_atr] = [];\n\n    if (common_atr in query) {\n      var q_values = query[common_atr].split(',');\n\n      for (var indx in q_values) {\n        var q_val = q_values[indx];\n\n        if (q_val) {\n          if (current_attr[common_atr][\"values\"].some(function (el) {\n            return el.code == q_val;\n          })) {\n            active_attr[common_atr].push(q_val);\n          } else if (current_attr[common_atr][\"filter_type\"] == 'range') {\n            active_attr[common_atr].push(q_val);\n          }\n        }\n      }\n    }\n  }\n\n  return active_attr;\n}\nfunction initActiveFilters() {\n  console.log('start collect active filters');\n  var active_attr = this.collectActiveAttributes(this.$route.query, this.all_filters);\n  this.$store.commit('setActiveFilters', active_attr);\n}\nfunction getApiCategoryProducts() {\n  return _getApiCategoryProducts.apply(this, arguments);\n}\n\nfunction _getApiCategoryProducts() {\n  _getApiCategoryProducts = Object(_Users_noname_work_ilya_pav3_vueapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var query,\n        current_cat_id,\n        products_response,\n        pages_info,\n        _args = arguments;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _args.length > 0 && _args[0] !== undefined ? _args[0] : this.$route.query;\n            console.log('query is', query);\n            current_cat_id = this.$store.state.ecommerce.current_category_id;\n            _context.next = 5;\n            return this.apiGetCategoryProducts(current_cat_id, query);\n\n          case 5:\n            products_response = _context.sent;\n            this.$store.commit('setProducts', products_response.data);\n            pages_info = {\n              'current_page': products_response.current_page,\n              'page_start': products_response.page_start,\n              'page_end': products_response.page_end,\n              'page_has_next': products_response.page_has_next,\n              'page_has_prev': products_response.page_has_prev\n            };\n            this.$store.commit('setProductsPages', pages_info); // set all filters for current products\n\n            this.$store.commit('setAllFilters', products_response.products_filters);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _getApiCategoryProducts.apply(this, arguments);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXNlZnVsX21ldGhvZHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXNlZnVsX21ldGhvZHMuanM/NDViYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZV9tb2JpbGVfaGVhZGVyICgpIHtcbiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldE1vYmlsZUhlYWRlclNob3cnLCBmYWxzZSlcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcGVuX21vYmlsZV9oZWFkZXIgKCkge1xuICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TW9iaWxlSGVhZGVyU2hvdycsIHRydWUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2xsZWN0UHJvZHVjdHNBdHRyaWJ1dGVzIChwcm9kdWN0cykge1xuXHR2YXIgYXR0ciA9IHt9XG5cdHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XG5cdFx0dmFyIGsgPSBPYmplY3Qua2V5cyhwcm9kdWN0LmF0dHJpYnV0ZXMpXG5cdFx0XG5cdFx0Ly8gaXRlcmF0ZSBmb3IgcHJvZHVjdCBhdHRyaWJ1dGUga2V5c1xuXHRcdGZvciAodmFyIGtleV9pdGVtIGluIGspIHtcblx0XHRcdHZhciBhdHJfa2V5ID0ga1trZXlfaXRlbV1cdFx0XHRcblx0XHRcdHZhciBhdHRyaWJ1dGVfdmFsdWVzID0gcHJvZHVjdC5hdHRyaWJ1dGVzW2F0cl9rZXldXG5cdFx0XHRcblx0XHRcdC8vIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIHByb2R1Y3QgYXR0cmlidXRlIHZhbHVlXG5cdFx0XHRmb3IgKHZhciBhdHJfaW5keCBpbiBhdHRyaWJ1dGVfdmFsdWVzKSB7XG5cdFx0XHR2YXIgY3VycmVudF9hdHRyID0gYXR0cmlidXRlX3ZhbHVlc1thdHJfaW5keF1cdFxuXG5cdFx0XHRpZiAoY3VycmVudF9hdHRyW1widXNlX2ZpbHRlclwiXSkge1xuXHRcdFx0dmFyIGF0cl92YWwgPSBjdXJyZW50X2F0dHJbXCJ2YWx1ZVwiXVxuXHRcdFx0dmFyIGF0cl9jb2RlID0gY3VycmVudF9hdHRyW1wiY29kZVwiXVxuXHRcdFx0dmFyIG5ld19hdHRyID0ge1xuXHRcdFx0XHQnY29kZSc6IGF0cl9jb2RlLFxuXHRcdFx0XHQnZGlzcGxheV9uYW1lJzogYXRyX3ZhbCxcblx0XHRcdH1cblx0XHRcdGlmIChhdHJfa2V5IGluIGF0dHIpIHtcblx0XHRcdFx0Ly8ga2V5IGFscmVhZHkgZXhpc3QsIG5lZWQgdG8gY2hlY2sgdmFsdWVcblx0XHRcdFx0aWYgKGF0dHJbYXRyX2tleV1bXCJ2YWx1ZXNcIl0uc29tZShlbCA9PiBlbC5jb2RlID09IGF0cl9jb2RlKSkge1xuXHRcdFx0XHQvLyBpZiBhbHJlYWR5IGhhcyB0aGF0IHZhbHVlLCBqdXN0IHNraXAgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhdHRyW2F0cl9rZXldW1widmFsdWVzXCJdLnB1c2gobmV3X2F0dHIpXG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGtleSBub3QgZXhpc3QsIGNyZWF0ZSBpdCBhbmQgYWRkIHZhbHVlXG5cdFx0XHRcdC8vIGluaXQgYXR0ciBrZXkgd2l0aCBhbGwgcGFyYW1ldGVyc1xuXHRcdFx0XHRhdHRyW2F0cl9rZXldID0ge31cblx0XHRcdFx0YXR0clthdHJfa2V5XVtcInZhbHVlc1wiXSA9IFtdXG5cdFx0XHRcdGF0dHJbYXRyX2tleV1bXCJkaXNwbGF5X25hbWVcIl0gPSBjdXJyZW50X2F0dHJbXCJkaXNwbGF5X25hbWVcIl1cblx0XHRcdFx0YXR0clthdHJfa2V5XVtcInR5cGVcIl0gPSBjdXJyZW50X2F0dHJbXCJ0eXBlXCJdIFxuXHRcdFx0XHRhdHRyW2F0cl9rZXldW1wiZmlsdGVyX3R5cGVcIl0gPSBjdXJyZW50X2F0dHJbXCJmaWx0ZXJfdHlwZVwiXVxuXG5cdFx0XHRcdGF0dHJbYXRyX2tleV1bXCJ2YWx1ZXNcIl0ucHVzaChuZXdfYXR0cilcblx0XHRcdH1cblx0XHR9XG5cdFx0fVxuXHRcdH1cblx0fVxuXHQpXG5cblx0cmV0dXJuIGF0dHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2xsZWN0QWN0aXZlQXR0cmlidXRlcyAocXVlcnksIGN1cnJlbnRfYXR0cikge1x0XG5cdGNvbnNvbGUubG9nKCdzdGFydCBjb2xsZWN0IGFjdGl2ZSBmaWx0ZXJzJywgcXVlcnksIGN1cnJlbnRfYXR0cilcblx0dmFyIGFjdGl2ZV9hdHRyID0ge31cblx0Zm9yICh2YXIgY29tbW9uX2F0ciBpbiBjdXJyZW50X2F0dHIpIHtcblx0XHRhY3RpdmVfYXR0cltjb21tb25fYXRyXSA9IFtdXG5cdFx0aWYgKGNvbW1vbl9hdHIgaW4gcXVlcnkpIHtcblx0XHRcdHZhciBxX3ZhbHVlcyA9IHF1ZXJ5W2NvbW1vbl9hdHJdLnNwbGl0KCcsJylcblx0XHRcdGZvciAodmFyIGluZHggaW4gcV92YWx1ZXMpIHtcblx0XHRcdFx0dmFyIHFfdmFsID0gcV92YWx1ZXNbaW5keF1cblx0XHRcdFx0aWYgKHFfdmFsKSB7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRfYXR0cltjb21tb25fYXRyXVtcInZhbHVlc1wiXS5zb21lKGVsID0+IGVsLmNvZGUgPT0gcV92YWwpKSB7XG5cdFx0XHRcdFx0XHRhY3RpdmVfYXR0cltjb21tb25fYXRyXS5wdXNoKHFfdmFsKVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY3VycmVudF9hdHRyW2NvbW1vbl9hdHJdW1wiZmlsdGVyX3R5cGVcIl0gPT0gJ3JhbmdlJykge1xuXHRcdFx0XHRcdFx0YWN0aXZlX2F0dHJbY29tbW9uX2F0cl0ucHVzaChxX3ZhbClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGFjdGl2ZV9hdHRyXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRBY3RpdmVGaWx0ZXJzICgpIHtcblx0Y29uc29sZS5sb2coJ3N0YXJ0IGNvbGxlY3QgYWN0aXZlIGZpbHRlcnMnLClcblx0dmFyIGFjdGl2ZV9hdHRyID0gdGhpcy5jb2xsZWN0QWN0aXZlQXR0cmlidXRlcyh0aGlzLiRyb3V0ZS5xdWVyeSwgdGhpcy5hbGxfZmlsdGVycyk7XG5cdHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0QWN0aXZlRmlsdGVycycsIGFjdGl2ZV9hdHRyKVxufVxuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcGlDYXRlZ29yeVByb2R1Y3RzKHF1ZXJ5ID0gdGhpcy4kcm91dGUucXVlcnkpIHtcblx0XHRjb25zb2xlLmxvZygncXVlcnkgaXMnLCBxdWVyeSlcblx0XHR2YXIgY3VycmVudF9jYXRfaWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5lY29tbWVyY2UuY3VycmVudF9jYXRlZ29yeV9pZFxuXHRcdHZhciBwcm9kdWN0c19yZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpR2V0Q2F0ZWdvcnlQcm9kdWN0cyhjdXJyZW50X2NhdF9pZCwgcXVlcnkpO1xuXHRcdHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0UHJvZHVjdHMnLCBwcm9kdWN0c19yZXNwb25zZS5kYXRhKVxuXHRcdHZhciBwYWdlc19pbmZvID0ge1xuXHRcdFx0J2N1cnJlbnRfcGFnZSc6IHByb2R1Y3RzX3Jlc3BvbnNlLmN1cnJlbnRfcGFnZSxcblx0XHRcdCdwYWdlX3N0YXJ0JzogcHJvZHVjdHNfcmVzcG9uc2UucGFnZV9zdGFydCxcblx0XHRcdCdwYWdlX2VuZCc6IHByb2R1Y3RzX3Jlc3BvbnNlLnBhZ2VfZW5kLFxuXHRcdFx0J3BhZ2VfaGFzX25leHQnOiBwcm9kdWN0c19yZXNwb25zZS5wYWdlX2hhc19uZXh0LFxuXHRcdFx0J3BhZ2VfaGFzX3ByZXYnOiBwcm9kdWN0c19yZXNwb25zZS5wYWdlX2hhc19wcmV2LFxuXHRcdH1cblx0XHR0aGlzLiRzdG9yZS5jb21taXQoJ3NldFByb2R1Y3RzUGFnZXMnLCBwYWdlc19pbmZvKVxuXHRcdC8vIHNldCBhbGwgZmlsdGVycyBmb3IgY3VycmVudCBwcm9kdWN0c1xuXHRcdHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0QWxsRmlsdGVycycsIHByb2R1Y3RzX3Jlc3BvbnNlLnByb2R1Y3RzX2ZpbHRlcnMpXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTs7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/useful_methods.js\n");

/***/ })

})